<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1" />
  <title>Jadeem Johnson ‚Äî Digital Business Card</title>
  <meta name="description" content="Digital business card ‚Äî Save or share my contact." />
  <link rel="icon" href="data:;base64,iVBORw0KGgo=">
  <style>
    :root {
      --accent:#00ffff; --accent-2:#00aacc;
      --card-bg:rgba(255,255,255,0.08);
      --glass:blur(8px);
      --text:#000;
      --bg:#f0f4f9;
    }
    body.dark {
      --text:#fff;
      --bg:#0e1117;
      --card-bg:rgba(255,255,255,0.05);
    }
    * { box-sizing:border-box; margin:0; padding:0 }
    body {
      font-family: Arial, sans-serif;
      min-height: 100vh; display:flex; justify-content:center; align-items:center;
      background: var(--bg); position: relative;
      color: var(--text);
      transition: background 0.3s, color 0.3s;
      overflow:auto;
      padding:16px;
    }
    body::before {
      content:""; position:fixed; inset:0;
      background:url('Picture1.png') no-repeat center/cover;
      filter: blur(15px) brightness(0.9); z-index:-1;
    }
    .card {
      width:100%; max-width:420px;
      background:var(--card-bg);
      border-radius:16px; padding:24px 18px 24px;
      text-align:center;
      box-shadow:0 12px 40px rgba(2,8,23,.55);
      backdrop-filter:var(--glass);
      border:1px solid rgba(255,255,255,.06);
      display:flex; flex-direction:column;
    }
    .avatar-wrap {
      display:grid; place-items:center;
      width:120px; height:120px;
      margin:0 auto 16px; position:relative;
    }
    .avatar {
      width: 120px;       /* keep width and height equal */
      height: 120px;
      border-radius: 50%; /* makes it perfectly circular */
      object-fit: cover;  /* keeps aspect ratio without stretching */
      display: block;
      margin: 0 auto;     /* center the photo */
    }
    h1 { font-size:1.35rem; margin:6px 0 }
    .title { margin:6px 0 12px; font-weight:500; font-size:.98rem }
    .intro { font-size:.92rem; margin-bottom:14px }
    .contact-list { list-style:none; margin:12px 0 18px; text-align:left }
    .contact-list li {
      display:flex; gap:10px; align-items:center;
      padding:8px 12px; border-radius:10px;
      transition:.18s; margin-bottom:8px;
    }
    .contact-list li:hover { background:rgba(255,255,255,.05); transform:translateY(-3px) }
    .icon {
      width:32px; height:32px; border-radius:8px;
      display:grid; place-items:center;
      background:linear-gradient(180deg, rgba(255,255,255,.1), rgba(0,0,0,.1));
      color:var(--accent); flex:0 0 32px;
      font-size:.9rem;
    }
    .meta a { color:var(--accent); text-decoration:none; word-break:break-word; }
    .meta small { display:block; opacity:0.75; font-size:.8rem }
    .buttons {
      display:flex; gap:10px; justify-content:center;
      flex-wrap:wrap; margin-top:10px;
    }
    .btn {
      border:0; padding:10px 16px;
      border-radius:999px; cursor:pointer; font-weight:600;
      display:flex; align-items:center; gap:8px;
      background:linear-gradient(90deg,var(--accent),var(--accent-2));
      color:#03121a; transition:.14s;
      box-shadow:0 6px 18px rgba(0,0,0,.25);
      font-size:.9rem;
    }
    .btn.secondary {
      background:transparent; color:var(--accent);
      border:1px solid rgba(0,212,255,.25)
    }
    .btn:hover { transform:translateY(-3px); }
    .btn:active { transform:translateY(-1px) scale(.98) }
    .qr-container {
      margin-top:18px; display:none; text-align:center;
    }
    .qr-container canvas {
      max-width:100%; height:auto;
    }
    .toggle-mode {
      position:fixed; top:12px; right:12px;
      background:transparent; border:0;
      cursor:pointer; font-size:1.3rem;
      z-index:5;
    }
    .toast {
      position:fixed; left:50%; transform:translateX(-50%);
      bottom:20px; background:rgba(0,0,0,.7);
      color:white; padding:8px 14px;
      border-radius:999px; font-size:.9rem;
      display:none; box-shadow:0 8px 24px rgba(2,8,23,.6);
    }
    .toast.show { display:block; animation:toastIn .28s ease }
    @keyframes toastIn { from{opacity:0; transform:translate(-50%,10px)} to{opacity:1; transform:translate(-50%,0)} }

    /* üì± Responsive tweaks */
    @media(max-width:480px){
      .avatar-wrap { width:90px; height:90px; }
      h1 { font-size:1.1rem; }
      .btn { flex:1 1 100%; justify-content:center; }
      .qr-container canvas { width:180px !important; }
    }
     /* QR modal adjustments for mobile */
  #qrModal .modal-content {
    width: 95%;
    max-width: 400px;
    max-height: 90vh;
    overflow-y: auto;
    text-align: center;
  }
  #qrcode {
    max-width: 100%;
    height: auto;
    margin: 0 auto;
  }

  /* General mobile tweaks */
  @media (max-width: 480px) {
    .card {
      padding: 1rem;
      margin: 1rem;
    }
    .avatar {
      width: 120px;
      height: 120px;
    }
    h1 {
      font-size: 1.5rem;
    }
    .btn {
      font-size: 0.9rem;
      padding: 0.6rem;
    }
  }
  </style>
</head>
<body>
  <button class="toggle-mode" id="modeToggle">üåô</button>

  <div class="card">
    <div class="avatar-wrap">
      <img class="avatar" src="profile.png" alt="Profile photo" />
    </div>

    <h1 id="fn"></h1>
    <div class="title" id="title"></div>
    <div class="intro"><strong>Facilitating Digital Transformation</strong></div>

    <ul class="contact-list" aria-label="contact details">
      <li><div class="icon">W</div><div class="meta"><a id="workTelLink" href="#"></a><small>Work ‚Ä¢ ext <span id="workExt"></span></small></div></li>
      <li><div class="icon">M</div><div class="meta"><a id="cellTelLink" href="#"></a><small>Cell</small></div></li>
      <li><div class="icon">@</div><div class="meta"><a id="emailLink" href="#"></a><small>Email</small></div></li>
      <li><div class="icon">‚úÜ</div><div class="meta"><a id="waLink" href="#"></a><small>WhatsApp</small></div></li>
      <li><div class="icon">üì∑</div><div class="meta"><a id="igLink" href="#"></a><small>Instagram</small></div></li>
    </ul>

    <div class="buttons">
      <button id="saveContactBtn" class="btn">Save Contact</button>
      <button id="shareContactBtn" class="btn secondary">Share</button>
      <button id="qrBtn" class="btn secondary">Show QR</button>
    </div>

    <div class="qr-container" id="qrContainer">
      <canvas id="qrCode"></canvas>
    </div>
  </div>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>

  <script src="https://cdn.jsdelivr.net/npm/qrcode/build/qrcode.min.js"></script>
  <script>
    const PROFILE = {
      givenName:"Jadeem", familyName:"Johnson", fullName:"Jadeem Johnson",
      title:"HRMIS Manager", org:"MoE - Region 1",
      workTel:"+18766181251", workExt:"6041",
      cell:"+18762796809", email:"jadeem.johnson@moey.gov.jm",
      whatsapp:"18762796809", instagram:"thatsjay876", photoFilename:"profile.jpg"
    };

    fn.textContent = PROFILE.fullName;
    title.textContent = PROFILE.title;
    workTelLink.href = `tel:${PROFILE.workTel};ext=${PROFILE.workExt}`;
    workTelLink.textContent = formatReadable(PROFILE.workTel);
    workExt.textContent = PROFILE.workExt;
    cellTelLink.href = `tel:${PROFILE.cell}`;
    cellTelLink.textContent = formatReadable(PROFILE.cell);
    emailLink.href = `mailto:${PROFILE.email}`;
    emailLink.textContent = PROFILE.email;
    waLink.href = `https://wa.me/${PROFILE.whatsapp.replace('+','')}`;
    igLink.href = `https://instagram.com/${PROFILE.instagram}`;
    igLink.textContent = '@'+PROFILE.instagram;

    function formatReadable(e164){
      return e164.replace(/^\+?(\d)(\d{3})(\d{3})(\d{4})$/,"+$1$2-$3-$4");
    }
    function escapeV(s){return String(s||"").replace(/[,;\\]/g,m=>"\\\\"+m)}
    function buildVCard(){
      return [
        "BEGIN:VCARD","VERSION:3.0",
        `N:${escapeV(PROFILE.familyName)};${escapeV(PROFILE.givenName)};;;`,
        `FN:${escapeV(PROFILE.fullName)}`,
        PROFILE.title?`TITLE:${escapeV(PROFILE.title)}`:"",
        PROFILE.org?`ORG:${escapeV(PROFILE.org)}`:"",
        PROFILE.workTel?`TEL;TYPE=WORK,VOICE:${PROFILE.workTel}`:"",
        PROFILE.workExt?`X-WORK-EXT:${PROFILE.workExt}`:"",
        PROFILE.cell?`TEL;TYPE=CELL,VOICE:${PROFILE.cell}`:"",
        PROFILE.email?`EMAIL;TYPE=INTERNET:${PROFILE.email}`:"",
        PROFILE.instagram?`URL:https://instagram.com/${PROFILE.instagram}`:"",
        PROFILE.whatsapp?`X-SOCIALPROFILE;TYPE=WhatsApp:https://wa.me/${PROFILE.whatsapp.replace('+','')}`:"",
        "END:VCARD"
      ].filter(Boolean).join("\r\n");
    }
    const vCardBlob=()=>new Blob([buildVCard()],{type:"text/vcard;charset=utf-8"});
    saveContactBtn.onclick=()=>{
      const a=document.createElement('a');
      a.href=URL.createObjectURL(vCardBlob());
      a.download=`${PROFILE.fullName.replace(/\s+/g,'_')}.vcf`; a.click();
      setTimeout(()=>URL.revokeObjectURL(a.href),1200);
    };
    shareContactBtn.onclick=async()=>{
      const blob=vCardBlob(),filename=`${PROFILE.fullName.replace(/\s+/g,'_')}.vcf`;
      if(navigator.canShare && navigator.canShare({files:[new File([blob],filename,{type:blob.type})]})){
        try{await navigator.share({files:[new File([blob],filename,{type:blob.type})],title:PROFILE.fullName,text:`${PROFILE.fullName} ‚Äî ${PROFILE.title}`});showToast('Shared ‚úÖ');return;}catch{}
      }
      if(navigator.share){try{await navigator.share({title:PROFILE.fullName,text:`${PROFILE.fullName}\n${PROFILE.title}\nEmail:${PROFILE.email}\nPhone:${PROFILE.cell}`});showToast('Shared ‚úÖ');return;}catch{}}
      if(navigator.clipboard){try{await navigator.clipboard.writeText(buildVCard());showToast('vCard copied üìã');return;}catch{}}
      const a=document.createElement('a');a.href=URL.createObjectURL(blob);a.download=filename;a.click();
      setTimeout(()=>URL.revokeObjectURL(a.href),1200);showToast('Download started ‚¨áÔ∏è');
    };
    qrBtn.onclick=()=>{
      const qrContainer=document.getElementById('qrContainer');
      const canvas=document.getElementById('qrCode');
      qrContainer.style.display=qrContainer.style.display==='none'?'block':'none';
      if(qrContainer.style.display==='block'){
        QRCode.toCanvas(canvas, buildVCard(), {width:200}, function (error) {
          if (error) console.error(error);
        });
      }
    };
    const toast=document.getElementById('toast'); let timer;
    function showToast(msg,time=2600){clearTimeout(timer);toast.textContent=msg;toast.classList.add('show');timer=setTimeout(()=>toast.classList.remove('show'),time);}
    
    // dark/light toggle
    const modeToggle=document.getElementById('modeToggle');
    modeToggle.onclick=()=>{
      document.body.classList.toggle('dark');
      modeToggle.textContent=document.body.classList.contains('dark')?'‚òÄÔ∏è':'üåô';
    }
  </script>
</body>
</html>

